<!DOCTYPE html>
<html xmlns:h="http://java.sun.com/jsf/html" 
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets" 
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:fn="http://java.sun.com/jsp/jstl/functions"
    xmlns:a4j="http://richfaces.org/a4j" 
    xmlns:rich="http://richfaces.org/rich">

    <h:body>
        <ui:composition>
    		<rich:popupPanel id="createActionModal"
            					modal="true"
            					autosized="true">
	            <div class='modal-container'>
			        <div class="modal-header">
			        	<h3>Fehlende Aktion anlegen</h3>
			        	<div class="modal-header-description">Sollte eine Aktion nicht vorhanden sein, können Sie diese über dieses Formular hinzufügen. Bitte prüfen Sie aber vorher noch einmal, ob die Aktion in der Liste unten nicht bereits vorhanden ist.</div>
			        </div>
			        <div class="modal-body">
			        	<div class='form clearfix'>
							<h:form id="actionCreateForm">
								<div class='form-row clearfix'>
									<label for='createActionInput'>Neue Aktion</label>
	                                <div class='row-ctx'>
										<h:inputText name="createActionInput"
														id="createActionInput"
														value="#{wizard.newActionName}"
														styleClass="input"
														required="true" >
										</h:inputText>
									</div>
								</div>
								<div class='form-row form-button clearfix'>
                                    <div class='row-ctx row-fullwidth pull-right'>
										<a4j:commandButton id="submitCreateAction"
														value="submit"
														action="#{wizard.createNewAction()}"
														render="actionGlossary" 
														oncomplete="#{rich:component('createActionModal')}.hide();"
														styleClass="button primary submit pull-right">
														<!-- disabled="#{fn:length(wizard.newActionName) gt 0}"-->
										</a4j:commandButton>
										<a4j:commandButton id="cancelCreateAction"
														value="cancel"
														onclick="#{rich:component('createActionModal')}.hide();"
														styleClass="button secondary remove pull-right">
										</a4j:commandButton>
									</div>
								</div>
							</h:form>
						</div>
						<div class='available-glossary-items clearfix'>
							<h4>Vorhandene Aktionen</h4>
							<div class='glossary-labels'>
								<c:forEach items="#{wizard.actionGlossary}" var="action">
								    <div class="badget badget-info">#{action.name}</div>
								</c:forEach>
							</div>
						</div>
					</div>
            	</div>
			</rich:popupPanel>
    	</ui:composition>
    </h:body>
</html>